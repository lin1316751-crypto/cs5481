# ğŸ“Š API é™åˆ¶ç®¡ç†æ€»ç»“

**æ›´æ–°æ—¥æœŸ**: 2025-10-20  
**çŠ¶æ€**: å·²é…ç½®é™åˆ¶ç®¡ç†ç³»ç»Ÿ

---

## ğŸ¯ é…ç½®æ¦‚è§ˆ

| API | é™åˆ¶ç±»å‹ | é™åˆ¶å€¼ | æ¯æ¬¡ä½¿ç”¨ | æœ€å¤§é¢‘ç‡ | è‡ªåŠ¨ç®¡ç† |
|-----|---------|--------|---------|---------|---------|
| **Twitter X API** | 100 Posts/æœˆ | 100 | 3 æ¡ | 33 æ¬¡/æœˆ | âœ… æ˜¯ |
| **NewsAPI** | 100 æ¬¡/å¤© | 100 | 3 æ¬¡ | 33 æ¬¡/å¤© | âœ… æ˜¯ |
| **StockTwits** | 200 æ¬¡/å°æ—¶ | 200 | ~9 æ¬¡ | 22 æ¬¡/å°æ—¶ | âŒ å¦ |
| **Reddit** | æ— é™åˆ¶ | âˆ | ä¸é™ | ä¸é™ | N/A |
| **RSS** | æ— é™åˆ¶ | âˆ | ä¸é™ | ä¸é™ | N/A |

---

## ğŸ”§ Twitter X API é…ç½®

### é™åˆ¶è¯¦æƒ…
- **æ¯æœˆé™åˆ¶**: 100 Posts
- **æ¯æ¬¡æŠ“å–**: 3 æ¡æ¨æ–‡
- **å…³é”®è¯**: 3 ä¸ª ($SPY, $QQQ, Federal Reserve)
- **æ¯å…³é”®è¯**: 1 æ¡æ¨æ–‡
- **è®¡ç®—**: 3 å…³é”®è¯ Ã— 1 æ¡ = 3 æ¡/æ¬¡

### é…ç½®ä½ç½®
`config.yaml` ç¬¬ 285-330 è¡Œ

```yaml
twitter:
  enabled: true
  bearer_token: "YOUR_BEARER_TOKEN"  # â† å¿…éœ€
  
  rate_limits:
    max_posts_per_run: 3        # æ¯æ¬¡ 3 æ¡
    max_posts_per_month: 100    # æœˆé™åˆ¶
    current_month_posts: 0      # è‡ªåŠ¨è®¡æ•°
    last_reset_date: null       # è‡ªåŠ¨é‡ç½®
  
  keywords:
    - "$SPY"
    - "$QQQ"
    - "Federal Reserve"
  
  tweets_per_keyword: 1
```

### è°ƒåº¦é…ç½®
`config.yaml` ç¬¬ 378 è¡Œ

```yaml
scheduler:
  twitter_interval: 1440  # 24å°æ—¶ (æ¯å¤©1æ¬¡)
```

### æœˆåº¦è§„åˆ’
- **ä¿å®ˆæ–¹æ¡ˆ**: æ¯å¤© 1 æ¬¡ Ã— 30 å¤© = 90 æ¡ (ç•™ 10 æ¡ä½™é‡)
- **å¯è¿è¡Œæ¬¡æ•°**: 100 Ã· 3 = 33 æ¬¡/æœˆ
- **è‡ªåŠ¨é‡ç½®**: æ¯æœˆ 1 å·

---

## ğŸ“° NewsAPI é…ç½®

### é™åˆ¶è¯¦æƒ…
- **æ¯æ—¥é™åˆ¶**: 100 æ¬¡è¯·æ±‚
- **æ¯æ¬¡æŠ“å–**: 3 ä¸ªå…³é”®è¯
- **å…³é”®è¯**: finance, stocks, market
- **æ¯å…³é”®è¯**: 20 ç¯‡æ–‡ç« 
- **è®¡ç®—**: 3 å…³é”®è¯ = 3 æ¬¡è¯·æ±‚ = 60 ç¯‡/æ¬¡

### é…ç½®ä½ç½®
`config.yaml` ç¬¬ 258-282 è¡Œ

```yaml
newsapi:
  api_key: "7d65184d1c104775995f49a4f0c3eb74"  # â† å·²å¡«å†™
  enabled: true
  
  rate_limits:
    max_requests_per_day: 100   # æ¯æ—¥é™åˆ¶
    requests_per_run: 3         # æ¯æ¬¡ 3 ä¸ªå…³é”®è¯
    current_day_requests: 0     # è‡ªåŠ¨è®¡æ•°
    last_reset_date: null       # è‡ªåŠ¨é‡ç½®
  
  query_keywords:
    - "finance"
    - "stocks"
    - "market"
  
  articles_per_keyword: 20
```

### è°ƒåº¦é…ç½®
`config.yaml` ç¬¬ 379 è¡Œ

```yaml
scheduler:
  newsapi_interval: 720  # 12å°æ—¶ (æ¯å¤©2æ¬¡)
```

### æ¯æ—¥è§„åˆ’
- **ä¿å®ˆæ–¹æ¡ˆ**: æ¯å¤© 2 æ¬¡ Ã— 3 æ¬¡ = 6 æ¬¡ (ç•™ä½™é‡)
- **å¯è¿è¡Œæ¬¡æ•°**: 100 Ã· 3 = 33 æ¬¡/å¤©
- **è‡ªåŠ¨é‡ç½®**: æ¯å¤© 0 ç‚¹

---

## ğŸ“ˆ StockTwits API (éœ€é…ç½® Token)

### é™åˆ¶è¯¦æƒ…
- **é€Ÿç‡é™åˆ¶**: 200 æ¬¡/å°æ—¶
- **ç›‘æ§è‚¡ç¥¨**: 9 ä¸ª (SPY, QQQ, DIA, IWM, XLF, XLE, XLK, BTC.X, ETH.X)
- **æ¯è‚¡ç¥¨**: 30 æ¡æ¶ˆæ¯
- **è®¡ç®—**: 9 è‚¡ç¥¨ = 9 æ¬¡è¯·æ±‚

### é…ç½®ä½ç½®
`config.yaml` ç¬¬ 337-358 è¡Œ

```yaml
stocktwits:
  enabled: true
  access_token: null  # â† éœ€è¦é…ç½® (è§ APIå¯†é’¥é…ç½®æŒ‡å—.md)
  
  watch_symbols:
    - SPY
    - QQQ
    - DIA
    # ... å…± 9 ä¸ª
  
  messages_per_symbol: 30
```

### è°ƒåº¦é…ç½®
`config.yaml` ç¬¬ 380 è¡Œ

```yaml
scheduler:
  stocktwits_interval: 60  # 60åˆ†é’Ÿ (æ¯å°æ—¶1æ¬¡)
```

### æ¯å°æ—¶è§„åˆ’
- **æ¯æ¬¡è¯·æ±‚**: 9 æ¬¡
- **å¯è¿è¡Œæ¬¡æ•°**: 200 Ã· 9 = 22 æ¬¡/å°æ—¶
- **å®é™…è®¾ç½®**: 1 æ¬¡/å°æ—¶ (ä¿å®ˆ)

---

## ğŸ”„ è‡ªåŠ¨ç®¡ç†æœºåˆ¶

### 1. Twitter (æœˆåº¦é‡ç½®)

**è®¡æ•°å™¨**:
```yaml
current_month_posts: 15  # æœ¬æœˆå·²ç”¨
last_reset_date: "2025-10-20"
```

**é€»è¾‘**:
1. æ¯æ¬¡æŠ“å–å‰æ£€æŸ¥é…é¢
2. è‡ªåŠ¨ç´¯åŠ ä½¿ç”¨é‡
3. æ¯æœˆ 1 å·é‡ç½®ä¸º 0
4. è¶…é™æ—¶è·³è¿‡æŠ“å–

**ä»£ç **: `crawlers/twitter_v2_crawler.py`

### 2. NewsAPI (æ¯æ—¥é‡ç½®)

**è®¡æ•°å™¨**:
```yaml
current_day_requests: 6  # ä»Šæ—¥å·²ç”¨
last_reset_date: "2025-10-20"
```

**é€»è¾‘**:
1. æ¯æ¬¡æŠ“å–å‰æ£€æŸ¥é…é¢
2. è‡ªåŠ¨ç´¯åŠ ä½¿ç”¨é‡
3. æ¯å¤© 0 ç‚¹é‡ç½®ä¸º 0
4. è¶…é™æ—¶è·³è¿‡æŠ“å–

**ä»£ç **: `crawlers/newsapi_crawler.py`

### 3. é…é¢ä¿å­˜

**è‡ªåŠ¨ä¿å­˜åˆ° config.yaml**:
- æ¯æ¬¡è¿è¡Œåæ›´æ–°è®¡æ•°å™¨
- å†™å…¥ `current_month_posts` / `current_day_requests`
- æ›´æ–° `last_reset_date`

---

## ğŸ“… è¿è¡Œé¢‘ç‡è§„åˆ’

### å¾ªç¯æ¨¡å¼ (æ¨è)

å¯ç”¨å¾ªç¯æ¨¡å¼:
```bash
.\run.bat
é€‰æ‹©: 3. Run crawler in loop mode
```

**å®é™…è¿è¡Œé¢‘ç‡**:
- Reddit: æ¯ 60 åˆ†é’Ÿ
- RSS: æ¯ 30 åˆ†é’Ÿ
- NewsAPI: æ¯ 12 å°æ—¶ (2 æ¬¡/å¤©)
- Twitter: æ¯ 24 å°æ—¶ (1 æ¬¡/å¤©)
- StockTwits: æ¯ 60 åˆ†é’Ÿ

### å•æ¬¡æ¨¡å¼

```bash
.\run.bat
é€‰æ‹©: 2. Run crawler once
```

**æ¯æ¬¡ä½¿ç”¨**:
- Twitter: 3 æ¡
- NewsAPI: 3 æ¬¡è¯·æ±‚
- StockTwits: 9 æ¬¡è¯·æ±‚
- Reddit: ä¸é™
- RSS: ä¸é™

---

## ğŸ“Š é…é¢ç›‘æ§

### æŸ¥çœ‹å½“å‰ä½¿ç”¨é‡

**æ–¹æ³• 1**: æŸ¥çœ‹ config.yaml

```yaml
twitter:
  rate_limits:
    current_month_posts: 15  # â† çœ‹è¿™é‡Œ

newsapi:
  rate_limits:
    current_day_requests: 6  # â† çœ‹è¿™é‡Œ
```

**æ–¹æ³• 2**: æŸ¥çœ‹è¿è¡Œæ—¥å¿—

```
Twitter æŠ“å–å®Œæˆ - æ¨æ–‡: 3, é”™è¯¯: 0
æœ¬æ¬¡ä½¿ç”¨: 3 æ¡, æœ¬æœˆç´¯è®¡: 15 æ¡
âœ“ æœˆåº¦é…é¢æ£€æŸ¥é€šè¿‡: å‰©ä½™ 85/100

NewsAPI æŠ“å–å®Œæˆ - æ–‡ç« : 60, é”™è¯¯: 0
æœ¬æ¬¡ä½¿ç”¨: 3 æ¬¡, ä»Šæ—¥ç´¯è®¡: 6 æ¬¡
âœ“ ä»Šæ—¥é…é¢æ£€æŸ¥é€šè¿‡: å‰©ä½™ 94/100
```

### è®¡ç®—å‰©ä½™é…é¢

**Twitter**:
```
å‰©ä½™ Posts = 100 - current_month_posts
å¯è¿è¡Œæ¬¡æ•° = å‰©ä½™ Ã· 3
```

**NewsAPI**:
```
å‰©ä½™è¯·æ±‚ = 100 - current_day_requests
å¯è¿è¡Œæ¬¡æ•° = å‰©ä½™ Ã· 3
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. Twitter é…é¢çè´µ
- âœ… æ¯å¤©åªè¿è¡Œ 1 æ¬¡
- âœ… ä½¿ç”¨æœ€é‡è¦çš„å…³é”®è¯
- âœ… é¿å…æ‰‹åŠ¨å¤šæ¬¡æµ‹è¯•
- âŒ ä¸è¦è®¾ç½®è¿‡çŸ­çš„ interval

### 2. NewsAPI å…è´¹ç‰ˆé™åˆ¶
- âœ… æ¯å¤©æœ€å¤š 2-3 æ¬¡è¿è¡Œ
- âœ… é€‰æ‹©æœ€é‡è¦çš„å…³é”®è¯
- âœ… 12 å°æ—¶é—´éš”åˆç†
- âŒ ä¸è¦é¢‘ç¹æµ‹è¯•

### 3. StockTwits éœ€è¦ Token
- âš ï¸ ç›®å‰æœªé…ç½® `access_token`
- âš ï¸ éœ€è¦æ³¨å†Œå¼€å‘è€…è´¦å·
- âš ï¸ è§ `APIå¯†é’¥é…ç½®æŒ‡å—.md`

### 4. é…é¢è¶…é™å¤„ç†
- ç³»ç»Ÿè‡ªåŠ¨è·³è¿‡æŠ“å–
- ä¸ä¼šæŠ¥é”™æˆ–ä¸­æ–­
- æ—¥å¿—æ˜¾ç¤º "é…é¢å·²ç”¨å®Œ"
- ç­‰å¾…è‡ªåŠ¨é‡ç½®

---

## ğŸ¯ æœ€ä½³å®è·µ

### æ¨èé…ç½®

**æ­£å¼è¿è¡Œ** (å¾ªç¯æ¨¡å¼):
```yaml
scheduler:
  reddit_interval: 60       # æ¯å°æ—¶
  rss_interval: 30          # æ¯30åˆ†é’Ÿ
  newsapi_interval: 720     # æ¯12å°æ—¶ (2æ¬¡/å¤©)
  twitter_interval: 1440    # æ¯24å°æ—¶ (1æ¬¡/å¤©)
  stocktwits_interval: 60   # æ¯å°æ—¶
```

**æµ‹è¯•æ¨¡å¼** (è°¨æ…ä½¿ç”¨):
```yaml
scheduler:
  newsapi_interval: 1440    # æ¯24å°æ—¶ (1æ¬¡/å¤©)
  twitter_interval: 2880    # æ¯48å°æ—¶ (15æ¬¡/æœˆ)
```

### èŠ‚çº¦é…é¢æŠ€å·§

1. **å‡å°‘å…³é”®è¯æ•°é‡**:
   ```yaml
   twitter:
     keywords:
       - "$SPY"  # åªæŠ“æœ€é‡è¦çš„
   ```

2. **å¢åŠ è¿è¡Œé—´éš”**:
   ```yaml
   twitter_interval: 2880  # ä¸¤å¤©ä¸€æ¬¡
   ```

3. **é™ä½æ¯æ¬¡æ•°é‡**:
   ```yaml
   tweets_per_keyword: 1  # å·²æ˜¯æœ€å°å€¼
   max_posts_per_run: 2   # ä» 3 æ”¹ä¸º 2
   ```

---

## ğŸ“ é…ç½®å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] Twitter Bearer Token å·²é…ç½®
- [ ] NewsAPI Key å·²é…ç½®
- [ ] è¿è¡Œé—´éš”å·²ä¼˜åŒ– (twitter: 1440, newsapi: 720)
- [ ] æµ‹è¯•è¿è¡ŒæˆåŠŸ
- [ ] é…é¢è‡ªåŠ¨ç®¡ç†æ­£å¸¸å·¥ä½œ
- [ ] äº†è§£å¦‚ä½•ç›‘æ§é…é¢ä½¿ç”¨

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **Twitter é…ç½®**: Twitteré…ç½®æŒ‡å—.md
- **æ‰€æœ‰ API é…ç½®**: APIå¯†é’¥é…ç½®æŒ‡å—.md
- **æ•°æ®æºçŠ¶æ€**: æ•°æ®æºçŠ¶æ€æŠ¥å‘Š.md
- **å¸¸è§é—®é¢˜**: å¸¸è§é—®é¢˜.md

---

**é…ç½®å®Œæˆå,ç³»ç»Ÿå°†**:
- âœ… è‡ªåŠ¨ç®¡ç† API é…é¢
- âœ… é¿å…è¶…é™
- âœ… æ¯æ—¥/æ¯æœˆè‡ªåŠ¨é‡ç½®
- âœ… æ—¥å¿—æ˜¾ç¤ºè¯¦ç»†ä½¿ç”¨æƒ…å†µ

**Happy Crawling with Smart Quota Management!** ğŸ‰

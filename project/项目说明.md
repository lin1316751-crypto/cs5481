# CS5481 è´¢ç»æ•°æ®æŠ“å–ç³»ç»Ÿ

## ï¿½ æ–°ç”¨æˆ·å¿«é€Ÿå¼€å§‹

**ğŸ‘‰ å»ºè®®å…ˆé˜…è¯»**: [å¿«é€Ÿå¼€å§‹.md](./å¿«é€Ÿå¼€å§‹.md) (5 åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—)

æœ¬æ–‡æ¡£æä¾›å®Œæ•´çš„ç³»ç»Ÿè¯´æ˜ï¼ŒåŒ…æ‹¬è¯¦ç»†é…ç½®ã€æ¶æ„è®¾è®¡å’Œå¸¸è§é—®é¢˜ã€‚

---

## ğŸ€½ï¿½ å¿«é€Ÿå¼€å§‹ (3 æ­¥)

### 1ï¸âƒ£ åˆ›å»ºç¯å¢ƒ

```bash
# ä½¿ç”¨ environment.yml (æ¨è,ä¸€é”®å®‰è£…æ‰€æœ‰ä¾èµ–)
conda env create -f environment.yml
conda activate cs5481
```

### 2ï¸âƒ£ é…ç½® API å¯†é’¥

**å¿…é¡»é…ç½®**: Reddit API (æä¾› 75% æ•°æ®)

ç¼–è¾‘ `config.yaml` (ç¬¬ 63-65 è¡Œ):

```yaml
reddit:
  client_id: "ä½ çš„_client_id"          # åœ¨ https://www.reddit.com/prefs/apps è·å–
  client_secret: "ä½ çš„_client_secret"  # è¯¦è§ å¿«é€Ÿå¼€å§‹.md
  user_agent: "FinancialCrawler/1.0"
```

**å¯é€‰é…ç½®**: NewsAPI (æä¾› 2% æ•°æ®)

```yaml
newsapi:
  api_key: "ä½ çš„_newsapi_key"  # https://newsapi.org/register (å¯é€‰)
```

### 3ï¸âƒ£ å¯åŠ¨ Redis

#### æ–¹å¼ A: Docker Redis (æ¨è,ç»Ÿä¸€ç¯å¢ƒ)

```powershell
conda activate cs5481
.\start_redis.bat      # è‡ªåŠ¨å¯åŠ¨ Docker Redis å®¹å™¨
```

#### æ–¹å¼ B: æœ¬åœ° Redis (å¦‚æœä¸ç”¨ Docker)

```powershell
# 1. å®‰è£… Redis for Windows
# ä¸‹è½½: https://github.com/tporadowski/redis/releases
# æˆ–ä½¿ç”¨ Chocolatey: choco install redis-64

# 2. å¯åŠ¨ Redis æœåŠ¡
redis-server

# æˆ–æ³¨å†Œä¸º Windows æœåŠ¡ (æ¨è):
redis-server --service-install
redis-server --service-start

# 3. éªŒè¯ Redis è¿è¡Œ
redis-cli ping
# åº”è¿”å›: PONG

#4.é…ç½®redisï¼ˆè§ä¸‹æ–‡ï¼‰
```

### 4ï¸âƒ£ è¿è¡Œçˆ¬è™«

```powershell
# æ¿€æ´»ç¯å¢ƒ
conda activate cs5481

# è¿è¡Œçˆ¬è™«èœå•
.\run.bat
```

---

## ğŸ“‹ è„šæœ¬è¯´æ˜

| è„šæœ¬                | åŠŸèƒ½                                    | ä½•æ—¶ä½¿ç”¨                      |
| ------------------- | --------------------------------------- | ----------------------------- |
| `start_redis.bat` | **å¯åŠ¨ Docker Redis** + éªŒè¯é…ç½®  | Docker ç”¨æˆ·æ¯æ¬¡å¼€å§‹å·¥ä½œå‰è¿è¡Œ |
| `run.bat`         | è¿è¡Œçˆ¬è™«èœå• (éªŒè¯/çˆ¬å–/æŸ¥çœ‹/å¯¼å‡º/æµ‹è¯•) | æ—¥å¸¸æ“ä½œ                      |
| `export_data.bat` | ä¸€é”®å¯¼å‡º Redis æ•°æ®åˆ°æ–‡ä»¶               | ç»™æ•°æ®åˆ†æå›¢é˜Ÿæä¾›æ•°æ®        |

**æ³¨æ„**:

- å¦‚æœä½¿ç”¨**æœ¬åœ° Redis** (é Docker),ä¸éœ€è¦è¿è¡Œ `start_redis.bat`
- ç›´æ¥å¯åŠ¨ `redis-server` åè¿è¡Œ `.\run.bat` å³å¯
- Docker Redis å’Œæœ¬åœ° Redis ä½¿ç”¨åŒæ ·çš„é…ç½® (config.yaml)

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
project/
â”œâ”€â”€ environment.yml         # Conda ç¯å¢ƒé…ç½® (æ¨èä½¿ç”¨)
â”œâ”€â”€ requirements.txt        # pip ä¾èµ–åˆ—è¡¨ (å¤‡ç”¨)
â”œâ”€â”€ config.yaml            # ç³»ç»Ÿé…ç½®æ–‡ä»¶
â”œâ”€â”€ start_redis.bat        # Redis å¯åŠ¨è„šæœ¬
â”œâ”€â”€ run.bat                # çˆ¬è™«è¿è¡Œèœå•
â”œâ”€â”€ control_center.py      # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ validate_config.py     # é…ç½®éªŒè¯å·¥å…·
â”œâ”€â”€ view_redis_data.py     # æ•°æ®æŸ¥çœ‹å·¥å…·
â”œâ”€â”€ crawlers/              # 5ä¸ªçˆ¬è™«æ¨¡å—
â”œâ”€â”€ utils/                 # å·¥å…·æ¨¡å—
â”œâ”€â”€ tests/                 # å•å…ƒæµ‹è¯•
â””â”€â”€ docs/                  # è¯¦ç»†æ–‡æ¡£
    â”œâ”€â”€ 01_å¿«é€Ÿå¼€å§‹/
    â”œâ”€â”€ 02_ä½¿ç”¨æŒ‡å—/
    â”œâ”€â”€ 03_æŠ€æœ¯æ–‡æ¡£/
    â””â”€â”€ 04_é¡¹ç›®ç®¡ç†/
```

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹æŒ‡å—](docs/01_å¿«é€Ÿå¼€å§‹/QUICKSTART.md) - è¯¦ç»†å®‰è£…æ­¥éª¤
- [Docker Redis é…ç½®](docs/01_å¿«é€Ÿå¼€å§‹/Docker_Redisé…ç½®æŒ‡å—.md) - Redis è¯¦ç»†é…ç½®
- [é¡¹ç›®æ–‡ä»¶è¯´æ˜](docs/01_å¿«é€Ÿå¼€å§‹/é¡¹ç›®æ–‡ä»¶è¯´æ˜.md) - æ–‡ä»¶ç»“æ„è¯´æ˜
- [é…ç½®æ–‡ä»¶è¯´æ˜](docs/02_ä½¿ç”¨æŒ‡å—/é…ç½®æ–‡ä»¶è¯´æ˜.md) - config.yaml è¯¦è§£
- [æ•°æ®å­—æ®µè¯´æ˜](docs/02_ä½¿ç”¨æŒ‡å—/æ•°æ®å­—æ®µè¯´æ˜.md) - 17ä¸ªå­—æ®µè¯¦è§£
- [ç³»ç»Ÿæ¶æ„è¯´æ˜](docs/03_æŠ€æœ¯æ–‡æ¡£/ç³»ç»Ÿæ¶æ„è¯´æ˜.md) - æŠ€æœ¯æ¶æ„
- [ä»£ç å®¡æŸ¥æŠ¥å‘Š](docs/04_é¡¹ç›®ç®¡ç†/ä»£ç å®¡æŸ¥æŠ¥å‘Š_æœ€ç»ˆç‰ˆ.md) - ä»£ç è´¨é‡æŠ¥å‘Š

---

## ğŸ”§ å¸¸è§æ“ä½œ

### æ—¥å¸¸ä½¿ç”¨ (Docker Redis)

```powershell
# 1. æ¿€æ´»ç¯å¢ƒ
conda activate cs5481

# 2. å¯åŠ¨ Docker Redis
.\start_redis.bat

# 3. è¿è¡Œçˆ¬è™«
.\run.bat
# é€‰æ‹©èœå•: 2. Run crawler once
```

### æ—¥å¸¸ä½¿ç”¨ (æœ¬åœ° Redis)

```powershell
# 1. æ¿€æ´»ç¯å¢ƒ
conda activate cs5481

# 2. å¯åŠ¨æœ¬åœ° Redis (å¦‚æœæœªè¿è¡Œ)
redis-server
# æˆ–å¦‚æœå·²æ³¨å†Œä¸ºæœåŠ¡: redis-server --service-start

# 3. è¿è¡Œçˆ¬è™«
.\run.bat
# é€‰æ‹©èœå•: 2. Run crawler once
```

### æŸ¥çœ‹æ•°æ®

```powershell
.\run.bat
# é€‰æ‹©èœå•: 3. View Redis data
```

### å¯¼å‡ºæ•°æ® (ç»™æ•°æ®åˆ†æå›¢é˜Ÿ)

```powershell
# æ–¹å¼ 1: ä½¿ç”¨å¯¼å‡ºè„šæœ¬ (æ¨è)
.\export_data.bat

# æ–¹å¼ 2: ä½¿ç”¨èœå•
.\run.bat
# é€‰æ‹©èœå•: 5. Export data to file
```

### è¿è¡Œæµ‹è¯•

```powershell
.\run.bat
# é€‰æ‹©èœå•: 4. Run tests
```

---

## â“ å¸¸è§é—®é¢˜

### Q: æˆ‘åº”è¯¥ç”¨ Docker Redis è¿˜æ˜¯æœ¬åœ° Redis?

**æ¨è Docker Redis**:

- âœ… ç¯å¢ƒç»Ÿä¸€,é…ç½®ä¸€è‡´
- âœ… ä¸€é”®å¯åŠ¨ (`.\start_redis.bat`)
- âœ… æ•°æ®è‡ªåŠ¨æŒä¹…åŒ–åˆ° `redis_data/`
- âœ… æ–¹ä¾¿è°ƒè¯• (`docker logs redis-server`)

**ä½¿ç”¨æœ¬åœ° Redis çš„æƒ…å†µ**:

- å·²ç»å®‰è£…äº† Redis
- ä¸æƒ³å®‰è£… Docker Desktop
- ç”µè„‘èµ„æºæœ‰é™

**é…ç½®è¯´æ˜**:

- ä¸¤ç§æ–¹å¼ä½¿ç”¨**ç›¸åŒçš„ config.yaml**
- é»˜è®¤é…ç½®: `host: localhost, port: 6379`
- å¦‚æœæœ¬åœ° Redis æ”¹äº†ç«¯å£æˆ–è®¾ç½®äº†å¯†ç ,éœ€è¦åœ¨ config.yaml ä¸­ä¿®æ”¹

### Q: ç¯å¢ƒä¸å­˜åœ¨?

```bash
conda env create -f environment.yml
conda activate cs5481
```

### Q: Redis è¿æ¥å¤±è´¥?

**Docker Redis**:

1. ç¡®è®¤ Docker Desktop å·²å¯åŠ¨
2. è¿è¡Œ `.\start_redis.bat`
3. æ£€æŸ¥å®¹å™¨çŠ¶æ€: `docker ps | findstr redis`

**æœ¬åœ° Redis**:

1. ç¡®è®¤ Redis æœåŠ¡å·²å¯åŠ¨: `redis-cli ping`
2. å¦‚æœè¿”å› `PONG` è¯´æ˜è¿è¡Œæ­£å¸¸
3. å¦‚æœæ²¡æœ‰å“åº”,å¯åŠ¨æœåŠ¡: `redis-server`

### Q: æœ¬åœ° Redis å¦‚ä½•é…ç½®å¯†ç ?

ç¼–è¾‘ `config.yaml`:

```yaml
redis:
  host: localhost
  port: 6379
  password: "your_redis_password"  # å¡«å†™ä½ çš„å¯†ç 
```

Redis æœåŠ¡ç«¯é…ç½®:

```bash
# ç¼–è¾‘ redis.conf æˆ– redis.windows.conf
requirepass your_redis_password
```

### Q: ModuleNotFoundError?

```bash
conda activate cs5481
pip install -r requirements.txt
```

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **5 å¤§æ•°æ®æº** - Redditã€NewsAPIã€RSSã€StockTwitsã€Twitter
- **æ—¥å¤„ç†é‡ 64K+** - Redis é˜Ÿåˆ—å­˜å‚¨,è‡ªåŠ¨å¯¼å‡º Parquet
- **17 å­—æ®µå®Œæ•´æ•°æ®** - æ ‡é¢˜ã€æ­£æ–‡ã€æ—¶é—´ã€URLã€äº’åŠ¨æ•°æ®ç­‰
- **å·¥ä¸šçº§è®¾è®¡** - æ¨¡å—åŒ–ã€æ—¥å¿—è½®è½¬ã€é”™è¯¯é‡è¯•ã€å»é‡è¿‡æ»¤

---

## ğŸ‘¥ å›¢é˜Ÿåä½œ

å°ç»„æˆå‘˜é¦–æ¬¡ä½¿ç”¨:

# 1. å…‹éš†é¡¹ç›®
git clone <repo-url>
cd project

# 2. åˆ›å»ºç¯å¢ƒ
conda env create -f environment.yml

# 3. æ¿€æ´»ç¯å¢ƒ
conda activate cs5481

# 4. é…ç½®å¯†é’¥ (ç¼–è¾‘ config.yaml)

# 5. å¯åŠ¨ Redis

ï¼ˆä»…é™dockerï¼Œæœ¬åœ°redisæ”¹config.yamlï¼‰
.\start_redis.bat

# 6. è¿è¡Œçˆ¬è™«

.\run.bat

---

**ç¯å¢ƒè¦æ±‚**: Windows + Conda + Docker Desktop
**Python ç‰ˆæœ¬**: 3.9.23
**æ›´æ–°æ—¶é—´**: 2025-10-20

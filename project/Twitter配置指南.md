# ğŸ”‘ Twitter X API é…ç½®æŒ‡å—

**App ID**: 31700005  
**App Name**: yhh1090798  
**é™åˆ¶**: 100 Posts/æœˆ, 500 Writes/æœˆ

---

## ğŸ“‹ é…ç½®æ­¥éª¤

### 1. è·å– Bearer Token

è®¿é—® Twitter å¼€å‘è€…æ§åˆ¶å°:
```
https://developer.twitter.com/en/portal/dashboard
```

æ‰¾åˆ°ä½ çš„åº”ç”¨ **yhh1090798** (App ID: 31700005)

åœ¨ **Keys and tokens** æ ‡ç­¾é¡µä¸­:
1. æ‰¾åˆ° **Bearer Token**
2. ç‚¹å‡» "Regenerate" (å¦‚æœéœ€è¦)
3. å¤åˆ¶ Bearer Token (é•¿å­—ç¬¦ä¸²,çº¦ 100+ å­—ç¬¦)

### 2. é…ç½®åˆ° config.yaml

æ‰“å¼€ `config.yaml`,æ‰¾åˆ° `twitter` é…ç½®æ®µ (çº¦ç¬¬ 285 è¡Œ):

```yaml
twitter:
  enabled: true
  
  # ===== X API v2 å‡­è¯ (å¿…éœ€) =====
  api_version: "v2"
  
  # ä½ çš„å‡­è¯
  bearer_token: "ç²˜è´´ä½ çš„ Bearer Token"  # â† åœ¨è¿™é‡Œå¡«å†™
  
  # æˆ–ä½¿ç”¨ OAuth 2.0 (å¯é€‰)
  api_key: "YOUR_API_KEY"  
  api_secret: "YOUR_API_SECRET"
  access_token: "YOUR_ACCESS_TOKEN"
  access_token_secret: "YOUR_ACCESS_TOKEN_SECRET"
```

**ç¤ºä¾‹**:
```yaml
bearer_token: "AAAAAAAAAAAAAAAAAAAAABc4xwEAAAAAX8FTZ..."
```

### 3. æ£€æŸ¥é™åˆ¶é…ç½®

ç¡®è®¤é…ç½®ä¸­çš„é™åˆ¶è®¾ç½®æ­£ç¡®:

```yaml
  # ===== å…è´¹å¥—é¤é™åˆ¶é…ç½® =====
  rate_limits:
    max_posts_per_run: 3        # æ¯æ¬¡è¿è¡Œæœ€å¤š 3 æ¡æ¨æ–‡
    max_posts_per_month: 100    # æœˆåº¦é™åˆ¶
    max_writes_per_month: 500   # å†™æ“ä½œé™åˆ¶
    
    # è‡ªåŠ¨è®¡æ•°å™¨ (ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†,æ— éœ€ä¿®æ”¹)
    current_month_posts: 0
    current_month_writes: 0
    last_reset_date: null
```

### 4. é…ç½®æŠ“å–å…³é”®è¯

é»˜è®¤é…ç½® (å·²ä¼˜åŒ–):
```yaml
  keywords:
    - "$SPY"           # S&P 500
    - "$QQQ"           # Nasdaq
    - "Federal Reserve"  # ç¾è”å‚¨
  
  tweets_per_keyword: 1  # æ¯ä¸ªå…³é”®è¯ 1 æ¡
```

**è®¡ç®—**: 3 ä¸ªå…³é”®è¯ Ã— 1 æ¡/å…³é”®è¯ = **3 æ¡/æ¬¡**

### 5. æµ‹è¯•é…ç½®

```bash
# æ¿€æ´»ç¯å¢ƒ
conda activate cs5481

# è¿è¡Œä¸€æ¬¡çˆ¬è™«
.\run.bat
é€‰æ‹©: 2. Run crawler once
```

**æœŸæœ›æ—¥å¿—**:
```
âœ“ Twitter API v2 åˆå§‹åŒ–æˆåŠŸ
é™åˆ¶: 3 æ¡/æ¬¡, 100 æ¡/æœˆ
âœ“ æœˆåº¦é…é¢æ£€æŸ¥é€šè¿‡: å‰©ä½™ 100/100
æ­£åœ¨æœç´¢: $SPY
å…³é”®è¯ $SPY æŠ“å–å®Œæˆ: 1 æ¡
Twitter æŠ“å–å®Œæˆ - æ¨æ–‡: 3, é”™è¯¯: 0
æœ¬æ¬¡ä½¿ç”¨: 3 æ¡, æœ¬æœˆç´¯è®¡: 3 æ¡
```

---

## âš ï¸ é…é¢ç®¡ç†

### æœˆåº¦é™åˆ¶
- **100 Posts/æœˆ**
- æ¯æ¬¡ 3 æ¡ â†’ æœ€å¤šè¿è¡Œ **33 æ¬¡/æœˆ**
- å»ºè®®: æ¯å¤© 1 æ¬¡ (30 å¤© = 90 æ¡,ç•™ 10 æ¡ä½™é‡)

### è°ƒåº¦é…ç½®
åœ¨ `config.yaml` çš„ `scheduler` éƒ¨åˆ†:

```yaml
scheduler:
  twitter_interval: 1440  # 24å°æ—¶ = 1å¤©1æ¬¡
```

### è‡ªåŠ¨è®¡æ•°
ç³»ç»Ÿä¼šè‡ªåŠ¨:
1. âœ… è®°å½•æ¯æ¬¡ä½¿ç”¨çš„ Posts æ•°é‡
2. âœ… ç´¯åŠ åˆ°æœˆåº¦æ€»è®¡
3. âœ… æ¯æœˆ 1 å·è‡ªåŠ¨é‡ç½®
4. âœ… è¶…è¿‡é™åˆ¶æ—¶è‡ªåŠ¨è·³è¿‡

---

## ğŸ” æ•…éšœæ’é™¤

### Q1: æç¤º "âŒ ç¼ºå°‘ Twitter API å‡­è¯"
**A**: æ£€æŸ¥ `bearer_token` æ˜¯å¦æ­£ç¡®å¡«å†™,ä¸è¦æœ‰å¤šä½™ç©ºæ ¼æˆ–å¼•å·é”™è¯¯

### Q2: æç¤º "âŒ API è®¿é—®è¢«æ‹’ç» (403)"
**A**: 
1. ç¡®è®¤ Bearer Token æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥åº”ç”¨æ˜¯å¦æ¿€æ´» (Active çŠ¶æ€)
3. å°è¯•é‡æ–°ç”Ÿæˆ Token

### Q3: æç¤º "âŒ API é€Ÿç‡é™åˆ¶! (429)"
**A**: 
1. Twitter æ£€æµ‹åˆ°è¯·æ±‚è¿‡é¢‘ç¹
2. ç­‰å¾… 15 åˆ†é’Ÿåé‡è¯•
3. å¢åŠ  `twitter_interval` åˆ°æ›´å¤§å€¼

### Q4: æœ¬æœˆé…é¢å·²ç”¨å®Œ
**A**: 
1. æŸ¥çœ‹ `config.yaml` ä¸­çš„ `current_month_posts`
2. ç­‰åˆ°ä¸‹ä¸ªæœˆ 1 å·è‡ªåŠ¨é‡ç½®
3. æˆ–æ‰‹åŠ¨æ”¹å° `max_posts_per_run` (å¦‚æ”¹ä¸º 2)

---

## ğŸ“Š é…é¢ç›‘æ§

### æŸ¥çœ‹å½“å‰ä½¿ç”¨é‡

æŸ¥çœ‹ `config.yaml` ä¸­çš„è®¡æ•°å™¨:
```yaml
rate_limits:
  current_month_posts: 15  # â† å½“å‰ç´¯è®¡
  last_reset_date: "2025-10-20"  # â† ä¸Šæ¬¡é‡ç½®æ—¥æœŸ
```

### è®¡ç®—å‰©ä½™é…é¢
```
å‰©ä½™ = 100 - current_month_posts
å¯è¿è¡Œæ¬¡æ•° = å‰©ä½™ Ã· 3
```

**ç¤ºä¾‹**: 
- å·²ç”¨ 15 æ¡
- å‰©ä½™ 85 æ¡
- å¯è¿è¡Œ 28 æ¬¡ (85 Ã· 3 = 28)

---

## ğŸ¯ ä¼˜åŒ–å»ºè®®

### æ–¹æ¡ˆ A: ä¿å®ˆæ¨¡å¼ (æ¨è)
```yaml
twitter_interval: 1440  # æ¯å¤© 1 æ¬¡
max_posts_per_run: 3    # æ¯æ¬¡ 3 æ¡
```
**æœˆåº¦ç”¨é‡**: 30 å¤© Ã— 3 æ¡ = 90 æ¡ (ç•™ 10 æ¡ä½™é‡)

### æ–¹æ¡ˆ B: èŠ‚çº¦æ¨¡å¼
```yaml
twitter_interval: 2880  # æ¯ä¸¤å¤© 1 æ¬¡
max_posts_per_run: 3
```
**æœˆåº¦ç”¨é‡**: 15 æ¬¡ Ã— 3 æ¡ = 45 æ¡ (èŠ‚çœä¸€åŠé…é¢)

### æ–¹æ¡ˆ C: ç²¾ç®€æ¨¡å¼
```yaml
tweets_per_keyword: 1
keywords:
  - "$SPY"  # åªæŠ“ S&P 500
```
**æ¯æ¬¡ç”¨é‡**: 1 æ¡ â†’ å¯è¿è¡Œ 100 æ¬¡

---

## ğŸ“ é…ç½®å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] Bearer Token å·²å¡«å†™åˆ° `config.yaml`
- [ ] `enabled: true` å·²è®¾ç½®
- [ ] é™åˆ¶é…ç½®æ£€æŸ¥é€šè¿‡ (3 æ¡/æ¬¡, 100 æ¡/æœˆ)
- [ ] æµ‹è¯•è¿è¡ŒæˆåŠŸ (æœ‰æ¨æ–‡æ•°æ®)
- [ ] è°ƒåº¦é—´éš”è®¾ç½®åˆç† (1440 åˆ†é’Ÿ = 24 å°æ—¶)
- [ ] äº†è§£é…é¢ç›‘æ§æ–¹æ³•

---

**é…ç½®å®Œæˆå,ä½ çš„ Twitter çˆ¬è™«å°†ä¼š**:
- âœ… æ¯å¤©è‡ªåŠ¨æŠ“å– 3 æ¡æœ€æ–°æ¨æ–‡
- âœ… è‡ªåŠ¨ç®¡ç†æœˆåº¦é…é¢
- âœ… è¶…é™æ—¶è‡ªåŠ¨è·³è¿‡
- âœ… æ¯æœˆ 1 å·è‡ªåŠ¨é‡ç½®

**Happy Crawling!** ğŸ‰

# ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

> **ç›®æ ‡**: 5 åˆ†é’Ÿå†…å®Œæˆç¯å¢ƒæ­å»ºå’Œæ•°æ®çˆ¬å–

---

## ç¬¬ 1 æ­¥: åˆ›å»º Conda ç¯å¢ƒ (2 åˆ†é’Ÿ)

```powershell
# åˆ›å»ºç¯å¢ƒ
conda env create -f environment.yml

# æ¿€æ´»ç¯å¢ƒ
conda activate cs5481
```

âœ… **éªŒè¯**: çœ‹åˆ°å‘½ä»¤è¡Œå‰ç¼€å˜ä¸º `(cs5481)`

---

## ç¬¬ 2 æ­¥: é…ç½® API å¯†é’¥ (2 åˆ†é’Ÿ)

### ğŸ”´ å¿…é¡»é…ç½®: Reddit API

1. **è·å–å¯†é’¥**:

   - è®¿é—® https://www.reddit.com/prefs/apps
   - ç‚¹å‡» **"create another app..."**
   - **App type** é€‰æ‹© **"script"**
   - **name**: FinancialCrawler (ä»»æ„)
   - **redirect uri**: http://localhost:8080
   - ç‚¹å‡» **"create app"**
2. **å¤åˆ¶å¯†é’¥**:

   - `client_id`: app åç§°ä¸‹æ–¹çš„å­—ç¬¦ä¸² (çº¦ 14 ä½)
   - `client_secret`: "secret" å­—æ®µçš„å€¼ (çº¦ 27 ä½)
3. **ç¼–è¾‘ config.yaml** (ç¬¬ 63-65 è¡Œ):

   ```yaml
   reddit:
     client_id: "ä½ çš„_client_id"          # â† æ”¹è¿™é‡Œ
     client_secret: "ä½ çš„_client_secret"  # â† æ”¹è¿™é‡Œ
     user_agent: FinanceDataCrawler/1.0
   ```

### :NewsAPI

- è®¿é—® https://newsapi.org/register (å…è´¹æ³¨å†Œ)
- ç¼–è¾‘ `config.yaml` ç¬¬ 253 è¡Œ:
  ```yaml
  newsapi:
    api_key: "ä½ çš„_newsapi_key"  # â† æ”¹è¿™é‡Œ
  ```
- **æ³¨æ„**: NewsAPI åªæä¾› 2% æ•°æ®ï¼Œå¯ä»¥å…ˆè·³è¿‡

### âœ… æ— éœ€é…ç½®: RSS

- RSS æ•°æ®æºæä¾› 15% æ•°æ®
- **æ— éœ€ API å¯†é’¥**ï¼Œå¼€ç®±å³ç”¨

---

## ç¬¬ 3 æ­¥: å¯åŠ¨ Redis (30 ç§’)

### æ–¹å¼ A: Docker Redis (æ¨è)

```powershell
.\start_redis.bat
```

### æ–¹å¼ B: æœ¬åœ° Redis

```powershell
# å¯åŠ¨ Redis
redis-server

# æˆ–å¯åŠ¨ Windows æœåŠ¡
redis-server --service-start
```

âœ… **éªŒè¯**: çœ‹åˆ° "Redis is ready to accept connections"

---

## ç¬¬ 4 æ­¥: éªŒè¯é…ç½® (30 ç§’)

```powershell
.\run.bat
# é€‰æ‹©: 1. Run configuration check
```

âœ… **æœŸæœ›è¾“å‡º**:

```
âœ“ Reddit é…ç½®æœ‰æ•ˆ
âœ“ RSS é…ç½®æœ‰æ•ˆ (36 ä¸ªæº)
âœ“ Redis è¿æ¥æˆåŠŸ
```

âŒ **å¦‚æœå¤±è´¥**:

- Reddit é…ç½®æ— æ•ˆ â†’ æ£€æŸ¥ `client_id` å’Œ `client_secret`
- Redis è¿æ¥å¤±è´¥ â†’ è¿è¡Œ `.\start_redis.bat`

---

## ç¬¬ 5 æ­¥: è¿è¡Œçˆ¬è™« (ç«‹å³å¼€å§‹)

```powershell
.\run.bat
# é€‰æ‹©: 2. Run crawler once (control center)
```

âœ… **æœŸæœ›è¾“å‡º**:

```
[Reddit] æˆåŠŸæŠ“å– 250 æ¡æ•°æ® (5 ä¸ª subreddit Ã— 50 posts)
[RSS] æˆåŠŸæŠ“å– 60 æ¡æ–‡ç«  (36 ä¸ªæº)
æ€»è®¡: 310+ æ¡æ•°æ®å­˜å…¥ Redis
```

---

## ğŸ§ª ç¬¬ 6 æ­¥: è¿è¡Œæµ‹è¯• (å¯é€‰)

```powershell
.\run.bat
# é€‰æ‹©: 5. Run tests
```

âœ… **æœŸæœ›è¾“å‡º**:

```
======================== 10 passed, 1 skipped in 2.55s ========================
```

---

## ğŸ“Š ç¬¬ 7 æ­¥: æŸ¥çœ‹æ•°æ®

### æ–¹å¼ 1: å‘½ä»¤è¡ŒæŸ¥çœ‹

```powershell
.\run.bat
# é€‰æ‹©: 3. View Redis data
```

### æ–¹å¼ 2: å¯¼å‡ºæ•°æ®æ–‡ä»¶

```powershell
.\run.bat
# é€‰æ‹©: 4. Export data to files
```

å¯¼å‡ºæ–‡ä»¶ä½ç½®: `data_exports/manual_export/`

- `redis_export_YYYYMMDD_HHMMSS.json` (å®Œæ•´ JSON)
- `redis_export_YYYYMMDD_HHMMSS.jsonl` (æ¯è¡Œä¸€æ¡ï¼Œé€‚åˆ pandas)

---

## ğŸ“ å¸¸è§é—®é¢˜

### Q1: Redis è¿æ¥å¤±è´¥

**ç—‡çŠ¶**: `redis.exceptions.ConnectionError: Error 10061`

**è§£å†³**:

```powershell
# Docker ç”¨æˆ·
.\start_redis.bat

# æœ¬åœ° Redis ç”¨æˆ·
redis-server --service-start
```

---

### Q2: Reddit API æŠ¥é”™

**ç—‡çŠ¶**: `401 Unauthorized` æˆ– `praw.exceptions.ResponseException`

**åŸå› **: `client_id` æˆ– `client_secret` é”™è¯¯

**è§£å†³**:

1. é‡æ–°è®¿é—® https://www.reddit.com/prefs/apps
2. ç¡®è®¤å¤åˆ¶æ­£ç¡®ï¼ˆæ³¨æ„ç©ºæ ¼å’Œå¼•å·ï¼‰
3. é‡æ–°ç¼–è¾‘ `config.yaml`

---

### Q3: ç¯å¢ƒä¸æ˜¯ cs5481

**ç—‡çŠ¶**: è¿è¡Œ `run.bat` æç¤º `Please activate cs5481 environment`

**è§£å†³**:

```powershell
conda activate cs5481
```

---

### Q4: æµ‹è¯•å¤±è´¥

**ç—‡çŠ¶**: `ModuleNotFoundError: No module named 'redis'`

**åŸå› **: ä¸åœ¨ cs5481 ç¯å¢ƒ

**è§£å†³**:

```powershell
conda activate cs5481
.\run.bat  # é€‰æ‹© 5. Run tests
```

---

## ğŸ¯ æ•°æ®æºé…ç½®æ€»ç»“

| æ•°æ®æº               | API å¯†é’¥ | æ•°æ®å æ¯” | ä¼˜å…ˆçº§  | è·å–åœ°å€                          |
| -------------------- | -------- | -------- | ------- | --------------------------------- |
| **Reddit**     | âœ… å¿…é¡»  | 75%      | ğŸ”´ é«˜   | https://www.reddit.com/prefs/apps |
| **RSS**        | âŒ æ— éœ€  | 15%      | âœ… å¼€ç®± | -                                 |
| **Twitter/X**  | âŒ æ— éœ€  | 5%       | ğŸŸ¡ æ¨è | - (ä½¿ç”¨ snscrape)                 |
| **StockTwits** | âŒ æ— éœ€  | 3%       | ğŸŸ¡ æ¨è | - (å…è´¹å…¬å¼€ API)                  |
| **NewsAPI**    | âœ… å¯é€‰  | 2%       | ğŸŸ¢ ä½   | https://newsapi.org/register      |

### ğŸ“ æ•°æ®æºè¯¦ç»†è¯´æ˜

#### 1. Reddit (75% æ•°æ®) - å¿…é¡»é…ç½® ğŸ”´

- **API å¯†é’¥**: âœ… å¿…é¡» (è§ä¸Šæ–¹ç¬¬ 2 æ­¥)
- **ç›‘æ§**: 5 ä¸ª subreddit (investing, finance, stocks, wallstreetbets, StockMarket)
- **æ•°æ®é‡**: çº¦ 48,000 æ¡/å¤©

#### 2. RSS (15% æ•°æ®) - å¼€ç®±å³ç”¨ âœ…

- **API å¯†é’¥**: âŒ æ— éœ€
- **æ•°æ®æº**: 36 ä¸ªè´¢ç»æ–°é—»ç½‘ç«™ (CNBC, WSJ, FT, Bloomberg ç­‰)
- **æ•°æ®é‡**: çº¦ 1,440 ç¯‡/å¤©

#### 3. Twitter/X (5% æ•°æ®) - æ¨èå¯ç”¨ ğŸŸ¡

- **API å¯†é’¥**: âŒ æ— éœ€ (ä½¿ç”¨ snscrape/twint-fork)
- **ç›‘æ§**: Bloomberg, WSJ, Reuters ç­‰è´¢ç»åª’ä½“è´¦å·
- **å…³é”®è¯**: $SPY, $QQQ, stock market, Federal Reserve ç­‰
- **æ•°æ®é‡**: çº¦ 5,760 æ¡/å¤©
- **é…ç½®**: `config.yaml` ä¸­ `twitter.enabled: true` (é»˜è®¤å·²å¯ç”¨)

#### 4. StockTwits (3% æ•°æ®) - æ¨èå¯ç”¨ ğŸŸ¡

- **API å¯†é’¥**: âŒ æ— éœ€ (å…è´¹å…¬å¼€ API)
- **ç›‘æ§**: SPY, QQQ, DIA ç­‰å¸‚åœºæŒ‡æ•° ETF
- **ç‰¹è‰²**: åŒ…å« Bullish/Bearish æƒ…ç»ªæ ‡ç­¾
- **æ•°æ®é‡**: çº¦ 8,640 æ¡/å¤©
- **é…ç½®**: `config.yaml` ä¸­ `stocktwits.enabled: true` (é»˜è®¤å·²å¯ç”¨)

#### 5. NewsAPI (2% æ•°æ®) - å¯é€‰ ğŸŸ¢

- **API å¯†é’¥**: âœ… å¯é€‰ (å…è´¹è´¦å·æœ‰é¢åº¦é™åˆ¶)
- **æ•°æ®é‡**: çº¦ 100 æ¡/å¤©
- **å»ºè®®**: å¯ä»¥å…ˆè·³è¿‡

### âœ… æ¨èé…ç½®æ–¹æ¡ˆ

#### æ–¹æ¡ˆ 1: æœ€å°é…ç½® (90% æ•°æ®)

```yaml
# åªé…ç½® Reddit API å¯†é’¥
reddit:
  client_id: "ä½ çš„_client_id"
  client_secret: "ä½ çš„_client_secret"

# RSS æ— éœ€é…ç½®
rss:
  enabled: true  # é»˜è®¤å·²å¯ç”¨

# ç¦ç”¨å…¶ä»–æ•°æ®æº
twitter:
  enabled: false
stocktwits:
  enabled: false
```

#### æ–¹æ¡ˆ 2: æ¨èé…ç½® (98% æ•°æ®) â­

```yaml
# é…ç½® Reddit API å¯†é’¥
reddit:
  client_id: "ä½ çš„_client_id"
  client_secret: "ä½ çš„_client_secret"

# å¯ç”¨æ‰€æœ‰æ— éœ€ API å¯†é’¥çš„æ•°æ®æº
rss:
  enabled: true       # é»˜è®¤å·²å¯ç”¨
twitter:
  enabled: true       # é»˜è®¤å·²å¯ç”¨ï¼Œä½¿ç”¨ snscrape
stocktwits:
  enabled: true       # é»˜è®¤å·²å¯ç”¨ï¼Œå…è´¹ API
```

#### æ–¹æ¡ˆ 3: å®Œæ•´é…ç½® (100% æ•°æ®)

```yaml
# åœ¨æ–¹æ¡ˆ 2 åŸºç¡€ä¸Šï¼Œæ·»åŠ  NewsAPI
newsapi:
  api_key: "ä½ çš„_newsapi_key"
```

**æ¨è**: ä½¿ç”¨ **æ–¹æ¡ˆ 2**ï¼Œæ— éœ€é¢å¤–é…ç½®ï¼Œè·å¾— 98% æ•°æ®ï¼

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
project/
â”œâ”€â”€ run.bat                # ä¸»èœå• (éªŒè¯/çˆ¬å–/æŸ¥çœ‹/å¯¼å‡º/æµ‹è¯•)
â”œâ”€â”€ start_redis.bat        # å¯åŠ¨ Docker Redis
â”œâ”€â”€ export_data.bat        # ä¸€é”®å¯¼å‡ºæ•°æ®
â”œâ”€â”€ config.yaml            # é…ç½®æ–‡ä»¶ (éœ€è¦æ‰‹åŠ¨ç¼–è¾‘ API å¯†é’¥)
â”œâ”€â”€ environment.yml        # Conda ç¯å¢ƒé…ç½®
â”œâ”€â”€ control_center.py      # çˆ¬è™«æ§åˆ¶ä¸­å¿ƒ
â”œâ”€â”€ crawlers/              # çˆ¬è™«æ¨¡å—
â”‚   â”œâ”€â”€ reddit_crawler.py  # Reddit çˆ¬è™«
â”‚   â”œâ”€â”€ rss_crawler.py     # RSS çˆ¬è™«
â”‚   â””â”€â”€ newsapi_crawler.py # NewsAPI çˆ¬è™«
â”œâ”€â”€ utils/                 # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ redis_client.py    # Redis å®¢æˆ·ç«¯
â”‚   â””â”€â”€ data_exporter.py   # æ•°æ®å¯¼å‡ºå·¥å…·
â”œâ”€â”€ tests/                 # å•å…ƒæµ‹è¯•
â””â”€â”€ docs/                  # è¯¦ç»†æ–‡æ¡£
```

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **è¯¦ç»†è¯´æ˜**: `é¡¹ç›®è¯´æ˜.md`
- **æ–‡æ¡£ç»“æ„**: `docs/README.md`
- **æŠ€æœ¯æ–‡æ¡£**: `docs/02_æŠ€æœ¯æ–‡æ¡£/`

---

## âœ… æ£€æŸ¥æ¸…å•

- [ ] Conda ç¯å¢ƒå·²åˆ›å»º (`conda env create -f environment.yml`)
- [ ] Conda ç¯å¢ƒå·²æ¿€æ´» (`conda activate cs5481`)
- [ ] Reddit API å¯†é’¥å·²é…ç½® (`config.yaml` ç¬¬ 63-65 è¡Œ)
- [ ] Redis å·²å¯åŠ¨ (`.\start_redis.bat` æˆ– `redis-server`)
- [ ] é…ç½®éªŒè¯é€šè¿‡ (`.\run.bat` â†’ é€‰é¡¹ 1)
- [ ] çˆ¬è™«è¿è¡ŒæˆåŠŸ (`.\run.bat` â†’ é€‰é¡¹ 2)
- [ ] (å¯é€‰) æµ‹è¯•å…¨éƒ¨é€šè¿‡ (`.\run.bat` â†’ é€‰é¡¹ 5)

---

ğŸ‰ **å®Œæˆï¼ç°åœ¨ä½ å¯ä»¥å¼€å§‹é‡‡é›†è´¢ç»æ•°æ®äº†ï¼**

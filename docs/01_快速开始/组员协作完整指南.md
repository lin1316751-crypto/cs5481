# ç»„å‘˜åä½œæŒ‡å— - å®Œæ•´ç‰ˆ

## ğŸ“š æ–‡æ¡£ä½ç½®è¯´æ˜

### æ ¹ç›®å½•æ–‡æ¡£

| æ–‡æ¡£ | ç”¨é€” | é˜…è¯»é¡ºåº |
|-----|------|---------|
| `README.md` | é¡¹ç›®å®Œæ•´æ–‡æ¡£ï¼ˆ2000+ è¡Œï¼‰ | ç¬¬ 3 æ­¥ |
| `é¡¹ç›®è¯´æ˜.md` | å¿«é€Ÿå¼€å§‹ï¼ˆç®€æ´ç‰ˆï¼‰ | ç¬¬ 1 æ­¥ |

### docs/ è¯¦ç»†æ–‡æ¡£

```
docs/
â”œâ”€â”€ 01_å¿«é€Ÿå¼€å§‹/              â† æ–°æ‰‹å¿…çœ‹
â”‚   â”œâ”€â”€ QUICKSTART.md                # 3åˆ†é’Ÿå¿«é€Ÿå¼€å§‹
â”‚   â”œâ”€â”€ Docker_Redisé…ç½®æŒ‡å—.md       # Redis è¯¦ç»†é…ç½®
â”‚   â”œâ”€â”€ ç»„å‘˜å¿«é€Ÿä¸Šæ‰‹æŒ‡å—.md           # å›¢é˜Ÿåä½œæŒ‡å—
â”‚   â”œâ”€â”€ å¸¸è§é—®é¢˜è§£ç­”.md              # FAQ
â”‚   â”œâ”€â”€ é¡¹ç›®æ–‡ä»¶è¯´æ˜.md              # æ–‡ä»¶ç»“æ„è¯´æ˜
â”‚   â””â”€â”€ æœ€ç»ˆä¼˜åŒ–è¯´æ˜.md              # æ¶æ„ä¼˜åŒ–è®°å½•
â”‚
â”œâ”€â”€ 02_ä½¿ç”¨æŒ‡å—/              â† æ—¥å¸¸ä½¿ç”¨
â”‚   â”œâ”€â”€ é…ç½®æ–‡ä»¶è¯´æ˜.md              # config.yaml è¯¦è§£
â”‚   â”œâ”€â”€ æ•°æ®å­—æ®µè¯´æ˜.md              # 17ä¸ªå­—æ®µè¯´æ˜
â”‚   â””â”€â”€ RSSæºé…ç½®è¯´æ˜.md             # RSS é…ç½®
â”‚
â”œâ”€â”€ 03_æŠ€æœ¯æ–‡æ¡£/              â† æŠ€æœ¯æ·±å…¥
â”‚   â”œâ”€â”€ ç³»ç»Ÿæ¶æ„è¯´æ˜.md              # Pipeline æ¶æ„
â”‚   â””â”€â”€ Rediså­˜å‚¨ä¼˜åŒ–æ–¹æ¡ˆ.md         # Redis è®¾è®¡
â”‚
â””â”€â”€ 04_é¡¹ç›®ç®¡ç†/              â† ä»»åŠ¡ç®¡ç†
    â”œâ”€â”€ ä»£ç å®¡æŸ¥æŠ¥å‘Š_æœ€ç»ˆç‰ˆ.md        # ä»£ç è´¨é‡
    â””â”€â”€ ç»„å‘˜ä»»åŠ¡æ¸…å•.md              # å¾…åŠäº‹é¡¹
```

### æ¨èé˜…è¯»è·¯å¾„

**æ–°ç»„å‘˜ï¼ˆç¬¬ä¸€æ¬¡æ¥è§¦é¡¹ç›®ï¼‰**:
```
1. é¡¹ç›®è¯´æ˜.md (æ ¹ç›®å½•)
   â†“ äº†è§£å¿«é€Ÿå¼€å§‹
2. docs/01_å¿«é€Ÿå¼€å§‹/ç»„å‘˜å¿«é€Ÿä¸Šæ‰‹æŒ‡å—.md
   â†“ ç¯å¢ƒé…ç½® + è¿è¡Œçˆ¬è™«
3. docs/01_å¿«é€Ÿå¼€å§‹/å¸¸è§é—®é¢˜è§£ç­”.md
   â†“ é¢„é˜²å¸¸è§é”™è¯¯
4. README.md (æ ¹ç›®å½•)
   â†“ å®Œæ•´æŠ€æœ¯æ–‡æ¡£
```

**æ•°æ®åˆ†æåŒå­¦ï¼ˆéœ€è¦æ•°æ®ï¼‰**:
```
1. docs/02_ä½¿ç”¨æŒ‡å—/æ•°æ®å­—æ®µè¯´æ˜.md
   â†“ äº†è§£æ•°æ®æ ¼å¼
2. è¿è¡Œ export_data.bat
   â†“ å¯¼å‡ºæ•°æ®
3. é˜…è¯» data_exports/manual_export/README.md
   â†“ æ•°æ®ä½¿ç”¨è¯´æ˜
```

**åç«¯å¼€å‘åŒå­¦ï¼ˆéœ€è¦ç†è§£æ¶æ„ï¼‰**:
```
1. docs/03_æŠ€æœ¯æ–‡æ¡£/ç³»ç»Ÿæ¶æ„è¯´æ˜.md
   â†“ Pipeline æ¶æ„
2. docs/03_æŠ€æœ¯æ–‡æ¡£/Rediså­˜å‚¨ä¼˜åŒ–æ–¹æ¡ˆ.md
   â†“ å­˜å‚¨è®¾è®¡
3. README.md (æ ¹ç›®å½•)
   â†“ å®Œæ•´æŠ€æœ¯ç»†èŠ‚
```

---

## ğŸ¯ è§’è‰²åˆ†å·¥ä¸æ•°æ®å…±äº«

### 1. æ•°æ®é‡‡é›†ç»„ï¼ˆçˆ¬è™« + Redisï¼‰

**ä»»åŠ¡**:
- è¿è¡Œçˆ¬è™«é‡‡é›†æ•°æ®
- ç›‘æ§ Redis é˜Ÿåˆ—
- å¯¼å‡ºæ•°æ®ç»™å…¶ä»–ç»„

**æ“ä½œæµç¨‹**:
```powershell
# 1. æ¿€æ´»ç¯å¢ƒ
conda activate cs5481

# 2. å¯åŠ¨ Redis
.\start_redis.bat

# 3. è¿è¡Œçˆ¬è™«
.\run.bat
# é€‰æ‹©: 2. Run crawler once

# 4. å¯¼å‡ºæ•°æ®ï¼ˆç»™å…¶ä»–ç»„ï¼‰
.\export_data.bat
```

**å¯¼å‡ºçš„æ•°æ®ä½ç½®**:
```
data_exports/manual_export/
â”œâ”€â”€ redis_export_20251020_143052.json      # å®Œæ•´ JSON
â”œâ”€â”€ redis_export_20251020_143052.jsonl     # æ¯è¡Œä¸€æ¡ï¼ˆæ¨èï¼‰
â””â”€â”€ export_metadata_20251020_143052.json   # å…ƒæ•°æ®
```

---

### 2. æ•°æ®æ¸…æ´—ç»„

**éœ€è¦çš„æ•°æ®**:
- ä»æ•°æ®é‡‡é›†ç»„è·å–å¯¼å‡ºçš„ JSON/JSONL æ–‡ä»¶

**æ•°æ®æ ¼å¼**ï¼ˆ17ä¸ªå­—æ®µï¼‰:
```json
{
  "title": "Bitcoin hits new high",
  "content": "Bitcoin surged to...",
  "author": "CryptoNews",
  "created_at": "2025-10-20T14:30:00",
  "url": "https://...",
  "source": "reddit",
  "subreddit": "cryptocurrency",
  "score": 523,
  "num_comments": 145,
  "upvote_ratio": 0.94,
  ...
}
```

**è¯»å–æ•°æ®ç¤ºä¾‹**:
```python
import pandas as pd
import json

# æ–¹æ³• 1: è¯»å– JSON
with open('data_exports/manual_export/redis_export_xxx.json', 'r', encoding='utf-8') as f:
    data = json.load(f)
df = pd.DataFrame(data)

# æ–¹æ³• 2: è¯»å– JSONL (æ¨è,æ›´å¿«)
df = pd.read_json('data_exports/manual_export/redis_export_xxx.jsonl', lines=True)

# æŸ¥çœ‹æ•°æ®
print(df.head())
print(df.info())

# æ¸…æ´—ç¤ºä¾‹
df_clean = df.dropna(subset=['title', 'content'])  # åˆ é™¤ç©ºå€¼
df_clean = df_clean[df_clean['content'].str.len() > 50]  # è¿‡æ»¤çŸ­å†…å®¹
```

**æ¸…æ´—åæ•°æ®æ ¼å¼**:
- æ¨èæ ¼å¼: CSV æˆ– Parquet
- ä¿å­˜ä½ç½®: `data_exports/cleaned/`

---

### 3. æ•°æ®åˆ†æç»„

**éœ€è¦çš„æ•°æ®**:
- ä»æ•°æ®æ¸…æ´—ç»„è·å–æ¸…æ´—åçš„æ•°æ®

**åˆ†æå»ºè®®**:
```python
import pandas as pd

# è¯»å–æ¸…æ´—åçš„æ•°æ®
df = pd.read_csv('data_exports/cleaned/cleaned_data.csv')

# æƒ…æ„Ÿåˆ†æ
df['sentiment'] = df['sentiment'].map({
    'bullish': 1,
    'bearish': -1,
    'neutral': 0
})

# æ—¶é—´åºåˆ—åˆ†æ
df['created_at'] = pd.to_datetime(df['created_at'])
df['date'] = df['created_at'].dt.date

# æŒ‰æ•°æ®æºç»Ÿè®¡
source_stats = df.groupby('source').agg({
    'title': 'count',
    'score': 'mean',
    'sentiment': 'mean'
})
print(source_stats)
```

---

### 4. å¯è§†åŒ–ç»„

**éœ€è¦çš„æ•°æ®**:
- ä»æ•°æ®åˆ†æç»„è·å–åˆ†æç»“æœ
- æˆ–ç›´æ¥ä»æ¸…æ´—åçš„æ•°æ®ç”Ÿæˆå›¾è¡¨

**å¯è§†åŒ–ç¤ºä¾‹**:
```python
import matplotlib.pyplot as plt
import seaborn as sns

# æ•°æ®æºåˆ†å¸ƒ
plt.figure(figsize=(10, 6))
df['source'].value_counts().plot(kind='bar')
plt.title('Data Distribution by Source')
plt.xlabel('Source')
plt.ylabel('Count')
plt.savefig('outputs/source_distribution.png')

# æƒ…æ„Ÿè¶‹åŠ¿
sentiment_trend = df.groupby(['date', 'source'])['sentiment'].mean().unstack()
sentiment_trend.plot(figsize=(12, 6))
plt.title('Sentiment Trend by Source')
plt.savefig('outputs/sentiment_trend.png')
```

---

## ğŸ”„ æ•°æ®æµè½¬æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®é‡‡é›†ç»„   â”‚
â”‚ (çˆ¬è™«)      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Redis å­˜å‚¨
       â”‚
       â”‚ .\export_data.bat
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ data_exports/manual_export/         â”‚
â”‚  â€¢ redis_export_xxx.json            â”‚
â”‚  â€¢ redis_export_xxx.jsonl           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ å¤åˆ¶æ–‡ä»¶æˆ–å…±äº«æ–‡ä»¶å¤¹
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®æ¸…æ´—ç»„   â”‚
â”‚             â”‚
â”‚ pd.read_json()
â”‚ å»é‡ã€è¿‡æ»¤ã€æ ‡å‡†åŒ–
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ ä¿å­˜ CSV/Parquet
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ data_exports/cleaned/               â”‚
â”‚  â€¢ cleaned_data.csv                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â†’ æ•°æ®åˆ†æç»„ (ç»Ÿè®¡åˆ†æ)
       â””â”€â†’ å¯è§†åŒ–ç»„ (å›¾è¡¨ç”Ÿæˆ)
```

---

## ğŸ“Š æ•°æ®æ–‡ä»¶æ ¼å¼è¯´æ˜

### JSON æ ¼å¼ï¼ˆé€‚åˆæŸ¥çœ‹ã€ç¼–è¾‘ï¼‰
```json
[
  {
    "title": "Bitcoin hits $50k",
    "source": "reddit",
    "created_at": "2025-10-20T14:30:00"
  },
  ...
]
```

**ä¼˜ç‚¹**:
- âœ… å¯è¯»æ€§å¥½
- âœ… æ”¯æŒåµŒå¥—ç»“æ„

**ç¼ºç‚¹**:
- âŒ æ–‡ä»¶è¾ƒå¤§
- âŒ è¯»å–é€Ÿåº¦æ…¢

### JSONL æ ¼å¼ï¼ˆæ¨èï¼Œé€‚åˆæµå¼å¤„ç†ï¼‰
```json
{"title": "Bitcoin hits $50k", "source": "reddit", "created_at": "2025-10-20T14:30:00"}
{"title": "Ethereum update", "source": "twitter", "created_at": "2025-10-20T14:35:00"}
```

**ä¼˜ç‚¹**:
- âœ… æ¯è¡Œä¸€æ¡è®°å½•
- âœ… æ”¯æŒæµå¼è¯»å–
- âœ… pandas ç›´æ¥æ”¯æŒ: `pd.read_json(lines=True)`

### CSV æ ¼å¼ï¼ˆé€‚åˆæ¸…æ´—åæ•°æ®ï¼‰
```csv
title,source,created_at,sentiment
Bitcoin hits $50k,reddit,2025-10-20T14:30:00,bullish
Ethereum update,twitter,2025-10-20T14:35:00,neutral
```

**ä¼˜ç‚¹**:
- âœ… Excel å¯ç›´æ¥æ‰“å¼€
- âœ… æ–‡ä»¶å°
- âœ… å…¼å®¹æ€§å¥½

**ç¼ºç‚¹**:
- âŒ ä¸æ”¯æŒåµŒå¥—ç»“æ„

### Parquet æ ¼å¼ï¼ˆé€‚åˆå¤§æ•°æ®ï¼‰
```python
df.to_parquet('data.parquet')
df = pd.read_parquet('data.parquet')
```

**ä¼˜ç‚¹**:
- âœ… å‹ç¼©ç‡é«˜ï¼ˆ70%ï¼‰
- âœ… è¯»å–é€Ÿåº¦å¿«
- âœ… ä¿ç•™æ•°æ®ç±»å‹

---

## ğŸ› ï¸ å¸¸ç”¨å·¥å…·è„šæœ¬

### 1. ä¸€é”®å¯¼å‡ºæ•°æ®ï¼ˆç»™æ•°æ®åˆ†æç»„ï¼‰
```powershell
conda activate cs5481
.\export_data.bat
```

**è¾“å‡º**:
- `data_exports/manual_export/redis_export_xxx.json`
- `data_exports/manual_export/redis_export_xxx.jsonl`
- `data_exports/manual_export/export_metadata_xxx.json`

### 2. æŸ¥çœ‹ Redis æ•°æ®ï¼ˆå®æ—¶ï¼‰
```powershell
conda activate cs5481
python view_redis_data.py
```

### 3. éªŒè¯é…ç½®
```powershell
conda activate cs5481
python validate_config.py
```

### 4. è¿è¡Œæµ‹è¯•
```powershell
conda activate cs5481
pytest tests/ -v
```

---

## ğŸ’¡ å›¢é˜Ÿåä½œæœ€ä½³å®è·µ

### 1. æ–‡ä»¶å…±äº«æ–¹å¼

**æ–¹å¼ A: GitHubï¼ˆæ¨èï¼‰**
```bash
# æ•°æ®é‡‡é›†ç»„
git add data_exports/manual_export/
git commit -m "Add exported data 20251020"
git push

# æ•°æ®æ¸…æ´—ç»„
git pull
```

**æ–¹å¼ B: å…±äº«æ–‡ä»¶å¤¹**
- OneDrive / Google Drive
- ç›´æ¥å¤åˆ¶ `data_exports/manual_export/` æ–‡ä»¶å¤¹

**æ–¹å¼ C: å‹ç¼©åŒ…**
```powershell
# å‹ç¼©å¯¼å‡ºæ•°æ®
Compress-Archive -Path data_exports\manual_export\* -DestinationPath exported_data.zip

# å‘é€ exported_data.zip ç»™å…¶ä»–ç»„
```

### 2. æ•°æ®å‘½åè§„èŒƒ

```
# åŸå§‹æ•°æ®ï¼ˆé‡‡é›†ç»„å¯¼å‡ºï¼‰
redis_export_20251020_143052.jsonl

# æ¸…æ´—åæ•°æ®
cleaned_data_20251020.csv

# åˆ†æç»“æœ
analysis_result_20251020.csv

# å¯è§†åŒ–è¾“å‡º
sentiment_trend_20251020.png
```

### 3. ç‰ˆæœ¬æ§åˆ¶

**æäº¤åŸåˆ™**:
- âœ… ä»£ç ï¼šæ¯æ¬¡ä¿®æ”¹éƒ½æäº¤
- âœ… é…ç½®ï¼šconfig.yaml æäº¤ï¼ˆAPI å¯†é’¥å·²é…ç½®ï¼‰
- âŒ æ•°æ®æ–‡ä»¶ï¼šä¸æäº¤å¤§æ–‡ä»¶ï¼ˆä½¿ç”¨ .gitignoreï¼‰
- âœ… æ–‡æ¡£ï¼šåŠæ—¶æ›´æ–°

**.gitignore å·²é…ç½®**:
```gitignore
data_exports/*.json
data_exports/*.jsonl
data_exports/*.parquet
logs/*.log
redis_data/
```

---

## ğŸ“ å­¦ä¹ èµ„æº

### pandas æ•°æ®å¤„ç†
```python
import pandas as pd

# è¯»å– JSONL
df = pd.read_json('data.jsonl', lines=True)

# æ•°æ®æ¸…æ´—
df = df.dropna()  # åˆ é™¤ç©ºå€¼
df = df.drop_duplicates(subset=['url'])  # å»é‡

# æ•°æ®ç­›é€‰
df_reddit = df[df['source'] == 'reddit']
df_recent = df[df['created_at'] > '2025-10-01']

# æ•°æ®ç»Ÿè®¡
print(df.describe())
print(df['source'].value_counts())

# ä¿å­˜ç»“æœ
df.to_csv('cleaned_data.csv', index=False)
```

### æ•°æ®å¯è§†åŒ–
```python
import matplotlib.pyplot as plt
import seaborn as sns

# è®¾ç½®ä¸­æ–‡å­—ä½“
plt.rcParams['font.sans-serif'] = ['SimHei']
plt.rcParams['axes.unicode_minus'] = False

# æŸ±çŠ¶å›¾
df['source'].value_counts().plot(kind='bar')
plt.title('æ•°æ®æºåˆ†å¸ƒ')
plt.savefig('source_dist.png')

# æŠ˜çº¿å›¾
df.groupby('date')['score'].mean().plot()
plt.title('å¹³å‡è¯„åˆ†è¶‹åŠ¿')
plt.savefig('score_trend.png')
```

---

## ğŸ“ é‡åˆ°é—®é¢˜ï¼Ÿ

1. **å…ˆæŸ¥çœ‹ FAQ**: `docs/01_å¿«é€Ÿå¼€å§‹/å¸¸è§é—®é¢˜è§£ç­”.md`
2. **æœç´¢æ–‡æ¡£**: åœ¨ `docs/` ç›®å½•æœç´¢å…³é”®è¯
3. **è”ç³»ç»„é•¿**: æä¾›é”™è¯¯ä¿¡æ¯æˆªå›¾
4. **GitHub Issues**: æäº¤é—®é¢˜åˆ°é¡¹ç›® Issues

---

**æ›´æ–°æ—¶é—´**: 2025-10-20  
**é€‚ç”¨è§’è‰²**: å…¨ä½“ç»„å‘˜
